{"ast":null,"code":"// part 4.2,\nimport { createSlice, nanoid } from '@reduxjs/toolkit';\nconst todosSlice = createSlice({\n  name: 'todos',\n  initialState: {\n    allTodos: [{\n      id: 1,\n      title: \"Viec 1\",\n      completed: true //22ms12ss\n\n    }, {\n      id: 2,\n      title: \"Viec 2\",\n      completed: false\n    }, {\n      id: 3,\n      title: \"Viec 3\",\n      completed: false\n    }]\n  },\n  reducer: {\n    //\n    // 16ms57ss\n    addTodo: {\n      reducer(state, action) {\n        // 17ms56ss\n        state.allTodos.unshift(action.payload);\n      },\n\n      prepare(title) {\n        //18ms43ss\n        return {\n          // -> action, 19ms53ss\n          payload: {\n            id: nanoid(),\n            title,\n            completed: false\n          }\n        };\n      }\n\n    }\n  },\n\n  // 25ms25ss\n  markComplete(state, action) {\n    state.allTodos = state.allTodos.map(todo => {\n      if (todo.id === todoId) {\n        todo.completed = !todo.completed;\n      }\n\n      return todo;\n    });\n  }\n\n}); // reducer\n\nconst todosReducer = todosSlice.reducer;\n\nconst todosSelector = state => state.todosReducer.allTodos; // action, 27ms46ss\n\n\nexport const {\n  addTodo,\n  markComplete\n} = todosSlice.actions;\nexport { todosReducer, todosSelector };","map":{"version":3,"sources":["D:/LEARNING__________/17.ReactJs2021/phan9-Redux/redux-lesson/src/store/reducer/todosSlice.js"],"names":["createSlice","nanoid","todosSlice","name","initialState","allTodos","id","title","completed","reducer","addTodo","state","action","unshift","payload","prepare","markComplete","map","todo","todoId","todosReducer","todosSelector","actions"],"mappings":"AAAA;AACA,SAASA,WAAT,EAAsBC,MAAtB,QAAoC,kBAApC;AAEA,MAAMC,UAAU,GAAGF,WAAW,CAAC;AAC3BG,EAAAA,IAAI,EAAE,OADqB;AAE3BC,EAAAA,YAAY,EAAE;AACVC,IAAAA,QAAQ,EAAE,CACN;AACIC,MAAAA,EAAE,EAAE,CADR;AAEIC,MAAAA,KAAK,EAAE,QAFX;AAGIC,MAAAA,SAAS,EAAE,IAHf,CAGqB;;AAHrB,KADM,EAMN;AACIF,MAAAA,EAAE,EAAE,CADR;AAEIC,MAAAA,KAAK,EAAE,QAFX;AAGIC,MAAAA,SAAS,EAAE;AAHf,KANM,EAWN;AACIF,MAAAA,EAAE,EAAE,CADR;AAEIC,MAAAA,KAAK,EAAE,QAFX;AAGIC,MAAAA,SAAS,EAAE;AAHf,KAXM;AADA,GAFa;AAqB3BC,EAAAA,OAAO,EAAE;AAAE;AACP;AACAC,IAAAA,OAAO,EAAE;AACLD,MAAAA,OAAO,CAACE,KAAD,EAAQC,MAAR,EAAgB;AAAE;AACrBD,QAAAA,KAAK,CAACN,QAAN,CAAeQ,OAAf,CAAuBD,MAAM,CAACE,OAA9B;AACH,OAHI;;AAILC,MAAAA,OAAO,CAACR,KAAD,EAAQ;AAAE;AACb,eAAO;AAAE;AACLO,UAAAA,OAAO,EAAE;AACLR,YAAAA,EAAE,EAAEL,MAAM,EADL;AAELM,YAAAA,KAFK;AAGLC,YAAAA,SAAS,EAAE;AAHN;AADN,SAAP;AAOH;;AAZI;AAFJ,GArBkB;;AAsC3B;AACAQ,EAAAA,YAAY,CAACL,KAAD,EAAQC,MAAR,EAAgB;AACxBD,IAAAA,KAAK,CAACN,QAAN,GAAiBM,KAAK,CAACN,QAAN,CAAeY,GAAf,CAAmBC,IAAI,IAAI;AACxC,UAAIA,IAAI,CAACZ,EAAL,KAAYa,MAAhB,EAAwB;AACpBD,QAAAA,IAAI,CAACV,SAAL,GAAiB,CAACU,IAAI,CAACV,SAAvB;AACH;;AACD,aAAOU,IAAP;AACH,KALgB,CAAjB;AAMH;;AA9C0B,CAAD,CAA9B,C,CAiDA;;AACA,MAAME,YAAY,GAAGlB,UAAU,CAACO,OAAhC;;AAEA,MAAMY,aAAa,GAAGV,KAAK,IAAIA,KAAK,CAACS,YAAN,CAAmBf,QAAlD,C,CAEA;;;AACA,OAAO,MAAM;AAAEK,EAAAA,OAAF;AAAWM,EAAAA;AAAX,IAA4Bd,UAAU,CAACoB,OAA7C;AAEP,SAASF,YAAT,EAAuBC,aAAvB","sourcesContent":["// part 4.2,\r\nimport { createSlice, nanoid } from '@reduxjs/toolkit';\r\n\r\nconst todosSlice = createSlice({\r\n    name: 'todos',\r\n    initialState: {\r\n        allTodos: [\r\n            {\r\n                id: 1,\r\n                title: \"Viec 1\",\r\n                completed: true, //22ms12ss\r\n            },\r\n            {\r\n                id: 2,\r\n                title: \"Viec 2\",\r\n                completed: false,\r\n            },\r\n            {\r\n                id: 3,\r\n                title: \"Viec 3\",\r\n                completed: false,\r\n            },\r\n        ]\r\n    },\r\n    reducer: { //\r\n        // 16ms57ss\r\n        addTodo: {\r\n            reducer(state, action) { // 17ms56ss\r\n                state.allTodos.unshift(action.payload);\r\n            },\r\n            prepare(title) { //18ms43ss\r\n                return { // -> action, 19ms53ss\r\n                    payload: {\r\n                        id: nanoid(),\r\n                        title,\r\n                        completed: false,\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    // 25ms25ss\r\n    markComplete(state, action) {\r\n        state.allTodos = state.allTodos.map(todo => {\r\n            if (todo.id === todoId) {\r\n                todo.completed = !todo.completed;\r\n            }\r\n            return todo;\r\n        })\r\n    }\r\n})\r\n\r\n// reducer\r\nconst todosReducer = todosSlice.reducer\r\n\r\nconst todosSelector = state => state.todosReducer.allTodos;\r\n\r\n// action, 27ms46ss\r\nexport const { addTodo, markComplete } = todosSlice.actions;\r\n\r\nexport { todosReducer, todosSelector };\r\n\r\n"]},"metadata":{},"sourceType":"module"}